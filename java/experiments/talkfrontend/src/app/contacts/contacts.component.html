<mat-form-field class="input-mat-form-field">
    <input type="text" placeholder="Search contact" [(ngModel)]="usernameFilter" (input)="userContacts(usernameFilter)" matInput>
    <button mat-button matSuffix mat-icon-button aria-label="Clear" (click)="clearUserNameFilter()">
        <mat-icon>close</mat-icon>
    </button>
</mat-form-field>
<mat-list>
    <mat-divider></mat-divider>
    <div *ngFor="let userContact of userContactArray">
        <mat-list-item>
            <div matLine>
                <span>{{userContact.username}}</span>
                <span *ngIf="userContact.pendingMessages" class="span-grey" matLine>You have pending messages</span>
            </div>
            <ng-container *ngIf="userContact.contact; else saveButton" layout="row">
                <button (click)="saveConversation(userContact.contact, userContact.iduser)" color="primary" mat-flat-button="" class="mat-flat-button mat-primary button-with-right-margin">
                    <span class="mat-button-wrapper">Talk</span>
                    <div class="mat-button-ripple mat-ripple" matripple=""></div>
                    <div class="mat-button-focus-overlay"></div>
                </button>
                <button (click)="deleteContact(userContact.iduser)" color="accent" mat-flat-button="" class="mat-flat-button mat-accent">
                    <span class="mat-button-wrapper">Delete</span>
                    <div class="mat-button-ripple mat-ripple" matripple=""></div>
                    <div class="mat-button-focus-overlay"></div>
                </button>
            </ng-container>
            <ng-template #saveButton>
                <button (click)="saveContact(userContact.iduser)" color="primary" mat-flat-button="" class="mat-flat-button mat-primary">
                    <span class="mat-button-wrapper">Add</span>
                    <div class="mat-button-ripple mat-ripple" matripple=""></div>
                    <div class="mat-button-focus-overlay"></div>
                </button>
            </ng-template>
        </mat-list-item>
        <mat-divider></mat-divider>
    </div>
</mat-list>